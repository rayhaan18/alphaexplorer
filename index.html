<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Alpha Explorer</title>
  <style>
    /* Reset & base */
    * {
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      background: linear-gradient(135deg, #e0f7fa, #ffffff);
      color: #222;
      display: flex;
      min-height: 100vh;
      transition: background 0.3s, color 0.3s;
    }
    a {
      color: inherit;
      text-decoration: none;
      cursor: pointer;
    }

    /* Sidebar */
    aside {
      position: fixed;
      left: 0;
      top: 0;
      width: 280px;
      height: 100vh;
      background: linear-gradient(180deg, #004d40, #00695c);
      color: #e0f2f1;
      padding: 25px 20px;
      overflow-y: auto;
      box-shadow: 4px 0 12px rgba(0,0,0,0.15);
      transition: background 0.3s;
      z-index: 10;
      display: flex;
      flex-direction: column;
      will-change: transform; /* GPU optimization for sliding */
    }
    aside h2 {
      font-size: 1.6rem;
      margin-bottom: 25px;
      font-weight: 700;
      letter-spacing: 1.2px;
      text-transform: uppercase;
      text-shadow: 1px 1px 2px #00332f;
      user-select: none;
    }
    aside nav {
      flex-grow: 1;
    }
    aside nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    aside nav li {
      margin: 16px 0;
      display: flex;
      align-items: center;
      gap: 12px;
    }
    aside nav li a {
      flex-grow: 1;
      padding: 8px 14px;
      border-radius: 8px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 10px;
      transition: background 0.3s, color 0.3s;
      color: #b2dfdb;
      user-select: none;
    }
    aside nav li a:hover,
    aside nav li a.active {
      background: #26a69a;
      color: #004d40;
      text-decoration: none;
      box-shadow: 0 2px 10px rgba(38,166,154,0.6);
    }
    aside nav li a svg {
      width: 20px;
      height: 20px;
      fill: currentColor;
    }

    /* Dark mode toggle inside sidebar */
    .dark-mode-toggle {
      margin-top: auto;
      padding-top: 20px;
      border-top: 1px solid #004d40;
      display: flex;
      align-items: center;
      justify-content: space-between;
      color: #b2dfdb;
      font-weight: 600;
      user-select: none;
    }
    .switch {
      position: relative;
      display: inline-block;
      width: 3.125rem; /* 50px */
      height: 1.625rem; /* 26px */
    }
    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0; left: 0; right: 0; bottom: 0;
      background-color: #b2dfdb;
      border-radius: 34px;
      transition: .4s;
    }
    .slider:before {
      position: absolute;
      content: "";
      height: 1.25rem; /* 20px */
      width: 1.25rem;  /* 20px */
      left: 0.1875rem; /* 3px */
      bottom: 0.1875rem; /* 3px */
      background-color: #004d40;
      border-radius: 50%;
      transition: .4s;
    }
    input:checked + .slider {
      background-color: #26a69a;
    }
    input:checked + .slider:before {
      transform: translateX(1.5rem); /* 24px */
      background-color: #004d40;
    }

    /* Main content */
    main {
      margin-left: 280px;
      padding: 30px 50px;
      flex-grow: 1;
      max-width: 900px;
      transition: background 0.3s, color 0.3s;
      scroll-behavior: smooth;
      user-select: text;
    }
    section {
      margin-bottom: 60px;
      background: #ffffffdd;
      padding: 25px 30px;
      border-radius: 20px;
      box-shadow:
        0 10px 15px rgba(0,0,0,0.05),
        inset 0 0 15px rgba(255,255,255,0.7);
      transition: background 0.3s, color 0.3s;
    }
    section h2 {
      margin-top: 0;
      color: #00796b;
      font-weight: 700;
      font-size: 1.8rem;
      letter-spacing: 0.03em;
      text-shadow: 1px 1px 3px #b2dfdb;
    }
    p {
      font-size: 1.1rem;
      line-height: 1.6;
      color: #004d40;
    }

    /* Header */
    header {
      position: sticky;
      top: 0;
      background: #ffffffcc;
      padding-bottom: 15px;
      margin-bottom: 40px;
      z-index: 5;
      box-shadow: 0 4px 8px rgba(0,0,0,0.05);
      border-radius: 20px;
      user-select: none;
    }
    header h1 {
      margin: 0;
      color: #00796b;
      font-size: 2.4rem;
      font-weight: 900;
      letter-spacing: 1.5px;
      text-shadow: 2px 2px 5px #80cbc4;
    }
    header p {
      margin: 6px 0 0 0;
      font-size: 1.2rem;
      color: #004d40dd;
      font-weight: 600;
    }

    /* Logos container */
    .logos-container {
      display: flex;
      justify-content: center;
      gap: 50px;
      flex-wrap: wrap;
      margin-bottom: 25px;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
    }
    .logos-container div {
      text-align: center;
      user-select: none;
    }
    .logos-container img {
      width: 110px;
      height: auto;
      background: white;
      padding: 15px;
      border-radius: 20px;
      box-shadow:
        0 6px 12px rgba(0,0,0,0.15);
      transition: transform 0.3s ease;
      cursor: pointer;
      filter: drop-shadow(0 0 1px rgba(0,0,0,0.1));
    }
    .logos-container img:hover {
      transform: scale(1.1) rotate(3deg);
      filter: drop-shadow(0 6px 10px rgba(0,0,0,0.3));
    }
    .logos-container p {
      margin-top: 10px;
      font-weight: 700;
      color: #004d40dd;
      font-size: 1.1rem;
    }

    /* Chart container */
    #alpha-chart-container {
      max-width: 750px;
      margin: 0 auto;
      box-shadow:
        0 10px 20px rgba(0,0,0,0.1);
      border-radius: 20px;
      padding: 15px 10px 25px 10px;
      background: white;
    }

    /* Dark mode styles */
    body.dark {
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      color: #e0f2f1;
    }
    body.dark aside {
      background: linear-gradient(180deg, #00251a, #004d40);
      color: #80cbc4;
      box-shadow: 4px 0 15px rgba(0, 100, 80, 0.8);
    }
    body.dark aside nav li a {
      color: #80cbc4;
    }
    body.dark aside nav li a:hover,
    body.dark aside nav li a.active {
      background: #004d40;
      color: #a7ffeb;
      box-shadow: 0 0 12px #26a69a;
    }
    body.dark main {
      background: #154a47cc;
      color: #a7ffeb;
    }
    body.dark section {
      background: #0d3b37cc;
      color: #b2dfdb;
      box-shadow:
        0 10px 15px rgba(0, 0, 0, 0.8),
        inset 0 0 25px rgba(255, 255, 255, 0.1);
    }
    body.dark header {
      background: #0d3b3788;
      box-shadow: 0 4px 12px rgba(0, 200, 180, 0.5);
    }
    body.dark .logos-container img {
      background: #004d40;
      filter: drop-shadow(0 2px 8px #00796b);
    }
    body.dark .logos-container img:hover {
      filter: drop-shadow(0 6px 12px #26a69a);
      transform: scale(1.1) rotate(3deg);
    }

    /* Responsive mobile: sidebar collapses */
    @media (max-width: 768px) {
      aside {
        width: 230px;
        left: -260px;
        padding-top: 60px;
        transition: left 0.3s ease;
      }
      aside.show {
        left: 0;
      }
      main {
        margin-left: 0;
        padding: 20px 15px;
      }
      #menu-toggle {
        position: fixed;
        top: 15px;
        left: 15px;
        background: #00796b;
        border: none;
        color: white;
        padding: 10px 14px;
        font-size: 1.6rem;
        border-radius: 8px;
        cursor: pointer;
        z-index: 30;
        box-shadow: 0 2px 10px rgba(0, 121, 107, 0.7);
      }
      .dark-mode-toggle {
        margin-top: 15px;
        padding-top: 0;
        border-top: none;
        justify-content: flex-start;
        gap: 10px;
      }
    }

  </style>
</head>
<body>

  <!-- Mobile Menu Toggle -->
  <button id="menu-toggle" aria-label="Toggle menu" title="Toggle menu" style="display:none;">‚ò∞</button>

  <aside id="sidebar" role="navigation" aria-label="Primary sidebar menu">
    <h2>Alpha Explorer</h2>
    <nav>
      <ul>
        <li>
          <a href="#alpha-section" class="nav-link active" aria-current="page" tabindex="0" >
            <!-- Icon: Alpha (ùõº) -->
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><text x="3" y="18" font-size="20">ùõº</text></svg>
            Alpha
          </a>
        </li>
        <li>
          <a href="#beta-section" class="nav-link" tabindex="0">
            <!-- Icon: Beta (ùõΩ) -->
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><text x="3" y="18" font-size="20">ùõΩ</text></svg>
            Beta
          </a>
        </li>
        <li>
          <a href="#power-law" class="nav-link" tabindex="0">
            <!-- Icon: Lightning bolt -->
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round" stroke-linecap="round">
              <polyline points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
            </svg>
            Power Law
          </a>
        </li>
        <li>
          <a href="#asymmetric-bets" class="nav-link" tabindex="0">
            <!-- Icon: Chart upwards -->
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round" stroke-linecap="round">
              <polyline points="6 12 10 16 18 8" />
              <path d="M6 20h12v-4"/>
            </svg>
            Asymmetric Bets
          </a>
        </li>
        <li>
          <a href="#contrarian-investing" class="nav-link" tabindex="0">
            <!-- Icon: Undo / reverse -->
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round" stroke-linecap="round">
              <polyline points="9 14 4 9 9 4" />
              <path d="M20 20v-7a4 4 0 0 0-4-4H4" />
            </svg>
            Contrarian Investing
          </a>
        </li>
        <li>
          <a href="#stock-comparison" class="nav-link" tabindex="0">
            <!-- Icon: Bar chart -->
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round" stroke-linecap="round">
              <line x1="12" y1="20" x2="12" y2="10" />
              <line x1="18" y1="20" x2="18" y2="4" />
              <line x1="6" y1="20" x2="6" y2="16" />
            </svg>
            Stock Comparison
          </a>
        </li>
      </ul>
    </nav>

    <div class="dark-mode-toggle" role="region" aria-label="Toggle dark mode">
      <span>Dark Mode</span>
      <label class="switch">
        <input type="checkbox" id="darkModeCheckbox" aria-checked="false" role="switch" />
        <span class="slider"></span>
      </label>
    </div>
  </aside>

  <main>
    <header>
      <h1>Alpha Explorer</h1>
      <p>Explore key finance concepts like Alpha, Beta, Risk, and Return.</p>
    </header>

    <section id="alpha-section" tabindex="0">
      <h2>What is Alpha?</h2>
      <p>Alpha measures the excess return of an investment relative to a benchmark index. A high alpha means you're beating the market!</p>
    </section>

    <section id="beta-section" tabindex="0">
      <h2>What is Beta?</h2>
      <p>Beta tells you how volatile a stock is compared to the market. A beta over 1 means the stock moves more than the market. A beta under 1 means it‚Äôs more stable.</p>
    </section>

    <section id="power-law" tabindex="0">
      <h2>Strategy: Power Law</h2>
      <p>The Power Law, as described by Peter Thiel, means that <strong>one investment can outperform all others combined</strong>. Instead of spreading money evenly, the best returns come from a few winners. In venture capital and startup investing, finding a "power law" opportunity ‚Äî like Google or Facebook ‚Äî can create massive alpha.</p>
      <p><em>‚ÄúThe biggest secret in venture capital is that the best investment in a successful fund equals or outperforms the entire rest of the fund combined.‚Äù ‚Äì Peter Thiel</em></p>
    </section>

    <section id="asymmetric-bets" tabindex="0">
      <h2>Strategy: Asymmetric Bets</h2>
      <p>Asymmetric bets mean investing in opportunities where the potential upside far outweighs the downside risk. This approach allows investors to take calculated risks that can yield outsized returns without risking too much capital.</p>
    </section>

    <section id="contrarian-investing" tabindex="0">
      <h2>Strategy: Contrarian Investing</h2>
      <p>Contrarian investing is about going against the crowd. When most investors are fearful and selling, contrarians look for buying opportunities, and vice versa. This strategy can uncover undervalued assets that others overlook.</p>
    </section>

    <section id="stock-comparison" tabindex="0">
      <h2>Stock Alpha Comparison: Nvidia, Palantir, &amp; S&P 500</h2>

      <div class="logos-container" aria-label="Company logos">
        <div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/2/21/Nvidia_logo.svg" alt="Nvidia Logo" />
          <p>Nvidia</p>
        </div>
        <div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/5/5f/Palantir_Technologies_Logo.svg" alt="Palantir Logo" />
          <p>Palantir</p>
        </div>
        <div>
          <img src="https://upload.wikimedia.org/wikipedia/commons/5/57/S%26P_500_logo.svg" alt="S and P 500 Logo" />
          <p>S&amp;P 500</p>
        </div>
      </div>

      <div id="alpha-chart-container" role="region" aria-label="Line chart comparing Alpha values">
        <canvas id="alphaChart" width="720" height="360" aria-describedby="alphaChartDesc" role="img"></canvas>
        <p id="alphaChartDesc" class="sr-only">
          A line chart showing Nvidia with steadily rising alpha reaching 7.3%, Palantir fluctuating around 2.1%, and S&P 500 baseline at 0%.
        </p>
      </div>

    </section>
  </main>

  <script>
    // DOM caching after content loaded
    document.addEventListener('DOMContentLoaded', () => {
      const sidebar = document.getElementById('sidebar');
      const menuToggle = document.getElementById('menu-toggle');
      const navLinks = document.querySelectorAll('aside nav a.nav-link');
      const sections = Array.from(navLinks).map(link => document.querySelector(link.getAttribute('href')));
      const darkModeCheckbox = document.getElementById('darkModeCheckbox');

      // Responsive menu toggle for mobile
      function updateMenuToggleVisibility() {
        if(window.innerWidth <= 768){
          menuToggle.style.display = 'block';
          sidebar.classList.remove('show');
        } else {
          menuToggle.style.display = 'none';
          sidebar.classList.remove('show');
        }
      }
      updateMenuToggleVisibility();
      window.addEventListener('resize', updateMenuToggleVisibility);
      menuToggle.addEventListener('click', () => {
        sidebar.classList.toggle('show');
      });

      // Scroll to section and highlight nav link (smooth + accessibility)
      navLinks.forEach(link => {
        link.addEventListener('click', e => {
          e.preventDefault();
          const targetID = link.getAttribute('href').slice(1);
          const targetSection = document.getElementById(targetID);
          if(targetSection){
            targetSection.focus({preventScroll:true});
            window.scrollTo({
              top: targetSection.offsetTop - 20,
              behavior: 'smooth'
            });
            setActiveLink(link);
            if(window.innerWidth <= 768){
              sidebar.classList.remove('show');
            }
          }
        });
      });

      // Debounce helper function
      function debounce(func, wait) {
        let timeout;
        return function(...args) {
          clearTimeout(timeout);
          timeout = setTimeout(() => func.apply(this, args), wait);
        };
      }

      // Highlight active nav link on scroll
      function setActiveLink(activeLink) {
        navLinks.forEach(link => {
          link.classList.remove('active');
          link.removeAttribute('aria-current');
        });
        activeLink.classList.add('active');
        activeLink.setAttribute('aria-current', 'page');
      }

      function onScroll() {
        const scrollPos = window.scrollY || window.pageYOffset;
        let currentSection = sections[0];
        for(let i=0; i<sections.length; i++) {
          if(sections[i].offsetTop - 40 <= scrollPos) {
            currentSection = sections[i];
          } else {
            break;
          }
        }
        const newActiveLink = [...navLinks].find(link => link.getAttribute('href').slice(1) === currentSection.id);
        if(newActiveLink && !newActiveLink.classList.contains('active')){
          setActiveLink(newActiveLink);
        }
      }
      window.addEventListener('scroll', debounce(onScroll, 50));

      // Dark mode toggle
      function setDarkMode(enabled) {
        if(enabled){
          document.body.classList.add('dark');
          darkModeCheckbox.setAttribute('aria-checked', 'true');
          localStorage.setItem('darkMode', 'true');
        } else {
          document.body.classList.remove('dark');
          darkModeCheckbox.setAttribute('aria-checked', 'false');
          localStorage.setItem('darkMode', 'false');
        }
      }

      darkModeCheckbox.checked = localStorage.getItem('darkMode') === 'true';
      setDarkMode(darkModeCheckbox.checked);

      darkModeCheckbox.addEventListener('change', (e) => {
        setDarkMode(e.target.checked);
      });

      // Chart.js code (line chart with Alpha values)
      const ctx = document.getElementById('alphaChart').getContext('2d');

      // Load Chart.js from CDN (ensure to load it before running this)
      function loadChartJS(callback) {
        if(typeof Chart === 'undefined'){
          const script = document.createElement('script');
          script.src = 'https://cdn.jsdelivr.net/npm/chart.js';
          script.onload = callback;
          document.head.appendChild(script);
        } else {
          callback();
        }
      }

      loadChartJS(() => {
        new Chart(ctx, {
          type: 'line',
          data: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug'],
            datasets: [
              {
                label: 'Nvidia Alpha (%)',
                data: [1.1, 2.3, 3.5, 5.1, 5.8, 6.3, 7.0, 7.3],
                borderColor: '#76b900',
                backgroundColor: 'rgba(118, 185, 0, 0.15)',
                borderWidth: 3,
                fill: true,
                tension: 0.3,
                pointRadius: 4,
                pointHoverRadius: 6,
              },
              {
                label: 'Palantir Alpha (%)',
                data: [2.0, 2.1, 1.9, 2.5, 2.0, 2.1, 2.0, 2.1],
                borderColor: '#1976d2',
                backgroundColor: 'rgba(25, 118, 210, 0.15)',
                borderWidth: 3,
                fill: true,
                tension: 0.2,
                pointRadius: 4,
                pointHoverRadius: 6,
              },
              {
                label: 'S&P 500 Alpha (%)',
                data: [0, 0, 0, 0, 0, 0, 0, 0],
                borderColor: '#444',
                borderWidth: 2,
                borderDash: [6, 4],
                fill: false,
                pointRadius: 0,
                tension: 0,
              }
            ]
          },
          options: {
            responsive: true,
            interaction: {
              mode: 'nearest',
              intersect: false,
            },
            plugins: {
              legend: {
                labels: {
                  color: darkModeCheckbox.checked ? '#b2dfdb' : '#222',
                  font: {
                    weight: '600',
                    size: 14
                  }
                }
              },
              tooltip: {
                mode: 'index',
                intersect: false,
                backgroundColor: darkModeCheckbox.checked ? '#004d40' : '#fff',
                titleColor: darkModeCheckbox.checked ? '#a7ffeb' : '#000',
                bodyColor: darkModeCheckbox.checked ? '#a7ffeb' : '#000',
                borderColor: darkModeCheckbox.checked ? '#26a69a' : '#ccc',
                borderWidth: 1
              }
            },
            scales: {
              x: {
                ticks: {
                  color: darkModeCheckbox.checked ? '#b2dfdb' : '#333',
                  font: {
                    weight: '600',
                    size: 14
                  }
                },
                grid: {
                  color: darkModeCheckbox.checked ? '#004d40' : '#eee',
                }
              },
              y: {
                beginAtZero: true,
                ticks: {
                  color: darkModeCheckbox.checked ? '#b2dfdb' : '#333',
                  font: {
                    weight: '600',
                    size: 14
                  }
                },
                grid: {
                  color: darkModeCheckbox.checked ? '#004d40' : '#eee',
                }
              }
            }
          }
        });
      });
    });
  </script>

  <style>
    /* Screen reader only text */
    .sr-only {
      position: absolute !important;
      width: 1px !important;
      height: 1px !important;
      padding: 0 !important;
      margin: -1px !important;
      overflow: hidden !important;
      clip: rect(0, 0, 0, 0) !important;
      white-space: nowrap !important;
      border: 0 !important;
    }
  </style>

</body>
</html>
